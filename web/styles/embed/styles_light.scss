// Copyright (c) 2019, the Dart project authors.  Please see the AUTHORS file
// for details. All rights reserved. Use of this source code is governed by a
// BSD-style license that can be found in the LICENSE file.

@import 'package:dart_pad/scss/colors';
@import 'package:dart_pad/scss/variables';

// These variables must be set before importing material-components-web.scss.
// Since `styles.scss` loads mdc_web these must be before `styles.scss` is
// imported
$mdc-theme-primary: $light-button-color;
$mdc-theme-on-primary: $light-code-background-color;
$mdc-theme-secondary: #676767;
$mdc-theme-background: $light-gutter-background-color;
$mdc-theme-surface: $light-code-background-color;
$mdc-theme-error: $light-red;

@import 'styles';

a {
  color: $button-color;
}

.gutter {
  background-color: $light-gutter-background-color;
}

#web-output {
  background-color: $light-code-background-color;
  border-bottom: 46px solid $light-border-color;
}

#console-output-footer {
  background-color: $light-code-background-color;
}

// Helper class for using a border when collapsed
.footer-top-border {
  border-top: $border-width solid $light-border-color;
}

.info-message {
  color: $light-label-color;
}

// Issues
#issues {
  background-color: $light-secondary-background-color;
  border: 8px solid $light-secondary-background-color;
}

.issue .issuelabel {
  color: $light-label-color;
}

.issue:hover {
  background-color: darken($light-secondary-background-color, 5%);
}

.issue .message {
  color: $light-label-color;
}

#navbar {
  background-color: $light-secondary-background-color;
  border-bottom: 3px solid $light-gutter-background-color;
}

.mdc-tab {
  @include mdc-tab-text-label-color($light-tab-color);
  @include mdc-tab-active-text-label-color($light-tab-color-active);
  @include mdc-tab-indicator-underline-color($light-tab-color-active);
}

// Progress bar

.mdc-linear-progress {
  @include mdc-linear-progress-buffer-color($light-code-background-color)
}

// Busy light
.busylight {
  background-color: #000;
}


// Flashes

.message-container {
  color: $light-issue-label-color;
}

.flash {
  background-color: $light-flash-info-color;
}

.flash-success {
  background-color: $light-flash-success-color;
}

.flash-error {
  background-color: $light-flash-error-color;
}

.flash-warn {
  background-color: $light-flash-warning-color;
}


// Analysis panel
.issue .issuelabel.error {
  color: $light-issue-error-color;
  border: 1px solid $light-issue-error-color;
}

.issue .issuelabel.warning {
  color: $light-issue-warning-color;
  border: 1px solid $light-issue-warning-color;
}

.issue .issuelabel.info {
  color: $light-issue-info-color;
  border: 1px solid $light-issue-info-color;
}

// Code annotations
.squiggle-error {
  border-bottom: 2px solid $dark-squiggle-error-color;
}

.squiggle-warning {
  border-bottom: 2px solid $dark-squiggle-warning-color;
}

.squiggle-info {
  border-bottom: 2px solid $dark-squiggle-info-color;
}

// Labels and scrollbars
.view-label {
  color: $light-label-color;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: $light-scrollbar-color;
}

#console-expand-icon, .close-flash-container .close-flash-button {
  color: $light-label-color;
}

.console-clear-icon {
  // filter to convert black svg icon to --mdc-theme-primary: #1967d2 color
  filter: invert(28%) sepia(42%) saturate(2766%) hue-rotate(198deg) brightness(104%) contrast(96%);
}




#search-dialog {
  background-color: $light-secondary-background-color;
  border-left: 2px solid #454545;
  color: inherit;
}

#search-dialog input {
  background: #454545;
  color: #cecece;
}

#find-options, #replace-options {
  background: #454545;
  color: #cecece; //#a6a6a6;a6a6a6;
}

#find-text, #replace-text {
  background: #454545;
  color: #a6a6a6;
}

#find-text:focus, #replace-text:focus {
  border: 2px solid #517ed1;
}

#search-results {
  color: $light-label-color; //$dark-label-color
}

#search-results.no-results {
  color: #d78a73;
}

#search-dialog button {
  color: $light-label-color; //$dark-secondary-background-color;
}
#search-dialog button[aria-pressed="true"] {
  background-color: #b2a787; // Will invert to >>> #445778;
}

#find-match-case, #find-wholeword, #find-regex  {
  // filter to make black SVG white for dark background of #find-options
  filter: invert(100%);
}

#replace-once, #replace-all {
  // filter to make black SVG white for light theme
  filter: invert(0%);
}

#find-previous[disabled], #find-next[disabled] {
  filter: opacity(30%);
}

#replace-once[disabled], #replace-all[disabled] {
  filter: opacity(30%);
}


.CodeMirror-focused .cm-matchhighlight {
	text-decoration: underline !important;
	text-decoration-color: #0f0 !important;
}

span.cm-searching {
  color: #FFFFFF;
  background-color: rgba( 0,255,0,0.3);//kind of yellow//168, 157, 77, 0.3 ); //brown like vscode rgba(127, 90, 59, .7);
  font-weight: normal;
  outline: solid 1px rgb(0,255,0,0.6);
}

.cm-highlight-selection-matches {
  background-color: rgba(41, 5, 245, 0.308);
}

//.cm-matchhighlight {
 // background-color: rgba(220, 0,0,0.8); //rgba(220, 220, 220, 0.4 );
//}


// selection highlight a little transparent so search will show through
.CodeMirror-selection-highlight-scrollbar {
  //background-color: rgb(16, 84, 209);
  //width: 5px !important;
  background-color: rgb(104, 77, 255);
  border-top: 1px solid rgb(159,141,255);;
  border-bottom: 1px solid rgb(159,141,255);
  width: 5px !important;
}

// LIGHT THEME active search scrollbar highlight
.cm-s-dartpad .CodeMirror-search-match {
  background: rgb(0, 211, 0);
  border-top: 1px solid rgb(145, 255, 0);
  border-bottom: 1px solid rgb(145, 255, 0);
  border-left: 1px solid rgb(145, 255, 0);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
